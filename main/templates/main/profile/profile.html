{% extends 'main/index.html' %}
{% load static %}

{% block extra_styles %}
<link rel="stylesheet" href="{% static 'css/profile_css.css' %}">
{% endblock %}

{% block content %}
<main class="main-content">
    <section class="profile-section">
        {% if error %}
            <div class="error-message">
                <div class="icon">üòï</div>
                <h3>{{ error }}</h3>
                <p>–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É</p>
            </div>
        {% else %}
            <div class="profile-header">
                <div class="profile-avatar">
                    {% if person.first_name and person.last_name %}
                        {{ person.first_name|first }}{{ person.last_name|first }}
                    {% else %}
                        üë§ 
                    {% endif %}
                </div>
                <div class="profile-info">
                    <h1 class="profile-name">
                        {{ person.last_name }} {{ person.first_name }} {{ person.middle_name }}
                    </h1>
                    <p class="profile-role">
                        {% if person.role %}
                            {{ person.role.name }}
                        {% else %}
                            –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
                        {% endif %}
                    </p>
                    <span class="profile-status">–ê–∫—Ç–∏–≤–µ–Ω</span>
                </div>
            </div>

            <div class="info-cards">
                <div class="info-card">
                    <h3 class="card-title">üìä –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</span>
                            <span class="info-value">{{ person.username }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Email:</span>
                            <span class="info-value">{{ person.email|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–¢–µ–ª–µ—Ñ–æ–Ω:</span>
                            <span class="info-value">{{ person.phone|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</span>
                        </div>
                    </div>
                </div>

                {% if student %}
                <div class="info-card">
                    <h3 class="card-title">üéì –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—É–¥–µ–Ω—Ç–µ</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç:</span>
                            <span class="info-value">{{ student.university.name|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–ì—Ä—É–ø–ø–∞:</span>
                            <span class="info-value">{{ student.student_group.name|default:"–ù–µ —É–∫–∞–∑–∞–Ω–∞" }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–§–∞–∫—É–ª—å—Ç–µ—Ç:</span>
                            <span class="info-value">{{ student.student_group.faculty.name|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–ù–æ–º–µ—Ä —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–æ–≥–æ:</span>
                            <span class="info-value">{{ student.student_id|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–¢–µ–∫—É—â–∏–π –∫—É—Ä—Å:</span>
                            <span class="info-value">{{ student.current_year|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–ì–æ–¥ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è:</span>
                            <span class="info-value">{{ student.admission_year|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</span>
                        </div>
                    </div>
                </div>
                {% endif %}

                {% if teacher %}
                <div class="info-card">
                    <h3 class="card-title">üë®‚Äçüè´ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">–£—á–µ–Ω–æ–µ –∑–≤–∞–Ω–∏–µ:</span>
                            <span class="info-value">{{ teacher.academic_title|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–ö–∞—Ñ–µ–¥—Ä–∞:</span>
                            <span class="info-value">{{ teacher.department|default:"–ù–µ —É–∫–∞–∑–∞–Ω–∞" }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç:</span>
                            <span class="info-value">{{ teacher.university.name|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</span>
                        </div>
                    </div>
                </div>
                {% endif %}

                {% if applicant %}
                <div class="info-card">
                    <h3 class="card-title">üìù –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–µ</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</span>
                            <span class="info-value">{{ applicant.birth_date|default:"–ù–µ —É–∫–∞–∑–∞–Ω–∞" }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–ü–∞—Å–ø–æ—Ä—Ç:</span>
                            <span class="info-value">{{ applicant.passport_number|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–ê–¥—Ä–µ—Å:</span>
                            <span class="info-value">{{ applicant.address|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–®–∫–æ–ª–∞:</span>
                            <span class="info-value">{{ applicant.school_name|default:"–ù–µ —É–∫–∞–∑–∞–Ω–∞" }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–ì–æ–¥ –æ–∫–æ–Ω—á–∞–Ω–∏—è —à–∫–æ–ª—ã:</span>
                            <span class="info-value">{{ applicant.graduation_year|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</span>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        {% endif %}
    </section>
</main>
{% endblock %}