{% extends 'main/index.html' %}
{% load static %}

{% block extra_styles %}
<link rel="stylesheet" href="{% static 'css/help_page.css' %}">
{% endblock %}

{% block content %}
<div class="help-page">
    <div class="help-container">
        <div class="help-header">
            <h1>üìû –¶–µ–Ω—Ç—Ä –ø–æ–¥–¥–µ—Ä–∂–∫–∏</h1>
            <p>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –Ω–∏–∂–µ, –∏ –º—ã –ø–æ–º–æ–∂–µ–º —Ä–µ—à–∏—Ç—å –≤–∞—à—É –ø—Ä–æ–±–ª–µ–º—É</p>
        </div>

        {% if messages %}
        <div class="help-messages">
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
                {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <form method="post" class="help-form">
            {% csrf_token %}
            
            <div class="form-section">
                <h3>üìã –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                
                <div class="form-group">
                    <label for="id_category" class="form-label">
                        –ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø—Ä–æ–±–ª–µ–º—ã *
                    </label>
                    <select id="id_category" name="category" class="form-select" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                        <option value="technical" {% if form.category.value == "technical" %}selected{% endif %}>
                            –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞
                        </option>
                        <option value="study" {% if form.category.value == "study" %}selected{% endif %}>
                            –£—á–µ–±–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
                        </option>
                        <option value="schedule" {% if form.category.value == "schedule" %}selected{% endif %}>
                            –ü—Ä–æ–±–ª–µ–º—ã —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º
                        </option>
                        <option value="profile" {% if form.category.value == "profile" %}selected{% endif %}>
                            –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ—Ñ–∏–ª–µ–º
                        </option>
                        <option value="other" {% if form.category.value == "other" %}selected{% endif %}>
                            –î—Ä—É–≥–æ–µ
                        </option>
                    </select>
                    {% if form.category.errors %}
                    <div class="error-list">
                        {% for error in form.category.errors %}
                        <span class="error">{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="id_email" class="form-label">
                        Email –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ *
                    </label>
                    <input type="email" id="id_email" name="email" 
                           class="form-input" 
                           value="{{ form.email.value|default:'' }}"
                           placeholder="your@email.com" required>
                    {% if form.email.errors %}
                    <div class="error-list">
                        {% for error in form.email.errors %}
                        <span class="error">{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
            </div>

            <div class="form-section">
                <h3>üìù –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã</h3>
                
                <div class="form-group">
                    <label for="id_subject" class="form-label">
                        –¢–µ–º–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è *
                    </label>
                    <input type="text" id="id_subject" name="subject" 
                           class="form-input" 
                           value="{{ form.subject.value|default:'' }}"
                           placeholder="–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É" required>
                    {% if form.subject.errors %}
                    <div class="error-list">
                        {% for error in form.subject.errors %}
                        <span class="error">{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="id_description" class="form-label">
                        –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ *
                    </label>
                    <textarea id="id_description" name="description" 
                              class="form-textarea" 
                              placeholder="–û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É –ø–æ–¥—Ä–æ–±–Ω–æ..." 
                              rows="6" required>{{ form.description.value|default:'' }}</textarea>
                    {% if form.description.errors %}
                    <div class="error-list">
                        {% for error in form.description.errors %}
                        <span class="error">{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
            </div>

            <div class="form-section">
                <h3>‚ö° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
                
                <div class="form-group">
                    <label class="form-label">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç *</label>
                    <div class="priority-options">
                        <label class="priority-option">
                            <input type="radio" name="priority" value="low" 
                                   {% if form.priority.value == "low" %}checked{% endif %}>
                            <span class="priority-label low">–ù–∏–∑–∫–∏–π</span>
                        </label>
                        <label class="priority-option">
                            <input type="radio" name="priority" value="medium" 
                                   {% if not form.priority.value or form.priority.value == "medium" %}checked{% endif %}>
                            <span class="priority-label medium">–°—Ä–µ–¥–Ω–∏–π</span>
                        </label>
                        <label class="priority-option">
                            <input type="radio" name="priority" value="high" 
                                   {% if form.priority.value == "high" %}checked{% endif %}>
                            <span class="priority-label high">–í—ã—Å–æ–∫–∏–π</span>
                        </label>
                    </div>
                    {% if form.priority.errors %}
                    <div class="error-list">
                        {% for error in form.priority.errors %}
                        <span class="error">{{ error }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label class="checkbox-option">
                        <input type="checkbox" name="is_urgent" 
                               {% if form.is_urgent.value %}checked{% endif %}>
                        <span class="checkmark"></span>
                        –°—Ä–æ—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ (–æ—Ç–≤–µ—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —á–∞—Å–æ–≤)
                    </label>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="submit-btn">
                    üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}