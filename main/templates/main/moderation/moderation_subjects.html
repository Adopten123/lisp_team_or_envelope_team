{% extends 'main/index.html' %}
{% load static %}

{% block extra_styles %}
    <link rel="stylesheet" href="{% static 'css/org_tree.css' %}">
    <link rel="stylesheet" href="{% static 'css/indigo_buttons.css' %}">
{% endblock %}

{% block content %}
    <section class="main-content">
        <h2 class="section-title">üìö –î–∏—Å—Ü–∏–ø–ª–∏–Ω—ã –∏ —É—á–µ–±–Ω—ã–µ –ø–ª–∞–Ω—ã ‚Äî {{ current_university.short_name }}</h2>

        <section class="user-card" style="margin-bottom:12px;">
            <div class="forms-grid">

                <details class="collapsible">
                    <summary class="btn-indigo-outline">‚ûï –°–æ–∑–¥–∞—Ç—å –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É</summary>
                    <div class="form-body">
                        <form method="post" novalidate>
                            {% csrf_token %}
                            <input type="hidden" name="action" value="create_discipline">
                            <div class="form-row two">
                                <div>
                                    <label>–ö–æ–¥</label>
                                    {{ discipline_form.code }}
                                </div>
                                <div>
                                    <label>ECTS</label>
                                    {{ discipline_form.ects }}
                                </div>
                            </div>
                            <div class="form-row">
                                <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                                {{ discipline_form.title }}
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn-indigo">–°–æ–∑–¥–∞—Ç—å –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É</button>
                            </div>
                        </form>
                    </div>
                </details>

                <details class="collapsible">
                    <summary class="btn-indigo-outline">‚ûï –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–æ–∫—É —É—á–µ–±–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ (Curriculum)</summary>
                    <div class="form-body">
                        <form method="post" novalidate>
                            {% csrf_token %}
                            <input type="hidden" name="action" value="create_curriculum">
                            <div class="form-row">
                                <label>–ü—Ä–æ–≥—Ä–∞–º–º–∞</label>
                                {{ curriculum_form.program }}
                            </div>
                            <div class="form-row">
                                <label>–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞</label>
                                {{ curriculum_form.discipline }}
                            </div>
                            <div class="form-row two">
                                <div>
                                    <label>–°–µ–º–µ—Å—Ç—Ä (1‚Äì12)</label>
                                    {{ curriculum_form.semester }}
                                </div>
                                <div>
                                    <label>–ß–∞—Å—ã</label>
                                    {{ curriculum_form.hours }}
                                </div>
                            </div>
                            <div class="form-row">
                                <label>–§–æ—Ä–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è</label>
                                {{ curriculum_form.control_form }}
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn-indigo">–°–æ–∑–¥–∞—Ç—å Curriculum</button>
                            </div>
                        </form>
                    </div>
                </details>

                <details class="collapsible">
                    <summary class="btn-indigo-outline">‚ûï –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –∫—É—Ä—Å–∞ (Teaching)</summary>
                    <div class="form-body">
                        <form method="post" novalidate>
                            {% csrf_token %}
                            <input type="hidden" name="action" value="create_teaching">
                            <div class="form-row">
                                <label>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</label>
                                {{ teaching_form.teacher }}
                            </div>
                            <div class="form-row">
                                <label>–£—á–µ–±–Ω—ã–π –ø–ª–∞–Ω (Curriculum)</label>
                                {{ teaching_form.curriculum }}
                            </div>
                            <div class="form-row">
                                <label>–ì—Ä—É–ø–ø–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –ø–æ—Ç–æ–∫–∞)</label>
                                {{ teaching_form.group }}
                            </div>
                            <div class="form-row two">
                                <div>
                                    <label>–£—á–µ–±–Ω—ã–π –≥–æ–¥</label>
                                    {{ teaching_form.academic_year }}
                                </div>
                                <div>
                                    <label>–°–µ–º–µ—Å—Ç—Ä –≤ –≥–æ–¥—É</label>
                                    {{ teaching_form.semester_in_year }}
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn-indigo">–°–æ–∑–¥–∞—Ç—å Teaching</button>
                            </div>
                            <p style="font-size:.85rem; color:#666; margin-top:6px;">
                                –ü—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ –≥—Ä—É–ø–ø—ã –≤—Å–µ–º —Å—Ç—É–¥–µ–Ω—Ç–∞–º —ç—Ç–æ–π –≥—Ä—É–ø–ø—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –∑–∞—á–∏—Å–ª–µ–Ω–∏—è (Enrollment),
                                –µ—Å–ª–∏ –∏—Ö –µ—â—ë –Ω–µ—Ç.
                            </p>
                        </form>
                    </div>
                </details>

            </div>
        </section>
        <section class="user-card" style="margin-bottom:12px;">
            <div style="display:flex; gap:8px; flex-wrap:wrap;">
                <a class="btn btn-indigo" href="{% url 'disciplines_list' %}" role="button">
                    –î–∏—Å—Ü–∏–ø–ª–∏–Ω—ã
                </a>
                <a class="btn btn-ghost" href="{% url 'curriculum_list' %}" role="button">
                    –£—á–µ–±–Ω—ã–µ –ø–ª–∞–Ω—ã
                </a>
                <a class="btn btn-ghost" href="{% url 'teaching_list' %}" role="button">
                    –ö—É—Ä—Å—ã
                </a>
            </div>
        </section>
    </section>
{% endblock %}
